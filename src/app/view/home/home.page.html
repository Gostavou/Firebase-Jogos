<ion-menu contentId="main-content" side="start">
  <ion-header>
    <ion-toolbar color="dark">
      <ion-title>Opções</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>

      <ion-list-header>
        olá, {{ nomeUsuario }}
      </ion-list-header>

      <ion-menu-toggle auto-hide="true">
        <ion-item button (click)="sair()">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          Sair
        </ion-item>
      </ion-menu-toggle>

    </ion-list>
  </ion-content>
</ion-menu>

<div id="main-content">
  <ion-header [translucent]="true">
    <ion-toolbar color="dark">
      <ion-buttons slot="start">
        <ion-menu-button autoHide="false">
          <ion-icon name="menu-outline"></ion-icon>
        </ion-menu-button>
      </ion-buttons>

      <ion-title>Agenda de Jogos</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true" class="ion-padding dark-bg">

    <ion-button expand="block" color="light" (click)="irParaCadastrar()" class="add-btn">
      + Adicionar Jogo
    </ion-button>

    <ion-list class="jogo-list">

      <div class="jogo-card"
        *ngFor="let jogo of jogos; let i = index"
        (click)="toggleExpand(i)"
        [class.expandido]="jogo.expandido">

        <div class="jogo-header">
          <div class="info">
            <h2>{{ jogo.nome }}</h2>
            <span class="ano">{{ jogo.lancamento }}</span>
          </div>

          <ion-icon
            [name]="jogo.expandido ? 'chevron-up-outline' : 'chevron-down-outline'"
            class="chevron">
          </ion-icon>
        </div>

        <div class="jogo-detalhes" *ngIf="jogo.expandido">
          <p><strong>Desenvolvedora:</strong> {{ jogo.desenvolvedora }}</p>

          <p><strong>Gêneros:</strong></p>
          <div class="chips-container">
            <ion-chip *ngFor="let genero of jogo.generos" color="primary">
              {{ genero }}
            </ion-chip>
          </div>

          <p><strong>Plataformas:</strong></p>
          <div class="chips-container">
            <ion-chip *ngFor="let plataforma of jogo.plataformas" color="primary">
              {{ plataforma }}
            </ion-chip>
          </div>

          <div class="acoes-buttons">
            <ion-button size="small" fill="solid" color="primary" (click)="editarJogo(jogo, $event)">
              <ion-icon name="create-outline" slot="start"></ion-icon>
              Editar
            </ion-button>

            <ion-button size="small" fill="solid" color="danger" (click)="excluirJogo(jogo, $event)">
              <ion-icon name="trash-outline" slot="start"></ion-icon>
              Excluir
            </ion-button>
          </div>
        </div>
      </div>

      <div *ngIf="jogos.length === 0" class="empty-state">
        <ion-icon name="game-controller-outline" class="empty-icon"></ion-icon>
        <h3>Nenhum jogo cadastrado</h3>
        <p>Clique no botão acima para adicionar seu primeiro jogo</p>
      </div>

    </ion-list>
  </ion-content>
</div>
